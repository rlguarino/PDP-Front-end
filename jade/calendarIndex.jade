extends !templates/basic.jade

block script
	script(type='text/javascript')
		$(document).ready(function() {


			// page is now ready, initialize the calendar...

			var calendar = $('#calendar').fullCalendar({
				// put your options and callbacks here
				//events: 'https://www.google.com/calendar/feeds/rvkgqt49saqhg4i17fo48u8uk0%40group.calendar.google.com/public/basic',
				events: rootLoc + '/calendar/events',
				header: {
					left: 'prev,next today',
					center: 'title',
					right: 'month,agendaWeek,agendaDay'
				},
				selectable: true,
				selectHelper: true,
				select: function(start, end, allDay) {
					console.log(allDay);
					//var addevent = confirm('Would You like to add an event to this day?');
					/*if (addEvent) {
						calendar.fullCalendar('renderEvent',
							{
								title: title,
								start: start,
								end: end,
								allDay: allDay
							},
							true // make the event "stick"
						);
						jQuery.post(
							rootLoc + "/calendar/addevent" // your url
							, { // re-use event's data
								title: title,
								start: start,
								end: end,
								allDay: allDay,
								location: '',
								description: ''
							}
						);*/
					if(confirm('Would You like to add an event to this day?')){
						window.location.href="calendarAddEvent.html?start=" + encodeURI(start) + "&end=" + encodeURI(end);
					}
					calendar.fullCalendar('unselect');
				}
			})
		});

block nav
	+nav('Calendar')

block main
	div#calendar.block.full.center

		